/*-----------------------------------------------------------------------------------------------------
【平    台】CCS
【适 用 单 片 机】msp432P401R
【底 层 库】TIVA WARE /msp432p4xx
【开 发】e芯工作室
/*@@ 库仅供参考 后果自负
 *
 * 版本 v1.0
 * 时间 2021年10月5日19:47:48
-------------------------------------------------------------------------------------------------------*/


/************************************************************************************
 *
 * 注意事项：本例程为MPU6050低通滤波器姿态解算例程
 *           MPU6050 AD0引脚接地 器件地址为0x68
 *           当MPU6050通信错误时，板载P1.0LED(即红灯)会闪烁，请检查IIC连线与器件地址，若没问题，则断电重联
 *           本例程完全信任加速度计，根据互补滤波得到倾角
 *           串口为launch pad usb接口，打开串口调试助手，观察角度值
 *           波特率:115200
 *************************************************************************************/



#include "exinlibs\headfile.h"

#define datalen  5  //两位首包 一位数据 两位尾包

char buf[5]={0};
unsigned char sindata[10]={128,218,255,218,128,37,5,37};

void Oscill_send(unsigned char data)
{
    buf[0] = 0x03;
    buf[1] = 0xfc;
    buf[2] = data;
    buf[3] = 0xfc;
    buf[4] = 0x03;
    UART_send_string(EUSCI_A0_BASE,buf);
}

void main()
{
    system_init(1);//初始化滴答计时器
    set_DCO_48MH();

    UART0_init();
    int i=0;
    while(1)
    {
        if(i==8)
            i=0;

        Oscill_send(sindata[i++]);
        delay_ms(100);
    }
}
